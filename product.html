<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Detail – UNKWN LABS</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Font Awesome for social icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
      integrity="sha512-9btcM+5mc0Sftt7jH9p8DB5ieM9deUkLH3FJVT+vffA55t2vJDeBK5BljR4daFN8SBJQc0Oh5ODa8NOyzhpJrA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      /* Additional styles specific to product page */
      .product-detail-section {
        margin-top: 100px;
        margin-bottom: 4rem;
      }
      .product-detail {
        display: flex;
        flex-wrap: wrap;
        gap: 2rem;
      }
      .product-detail-image {
        flex: 1 1 400px;
        max-width: 500px;
        border-radius: 4px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }
      .product-detail-info {
        flex: 1 1 300px;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .product-detail-name {
        font-size: 2rem;
        margin-bottom: 0.5rem;
      }
      .product-detail-description {
        font-size: 1rem;
        line-height: 1.6;
        max-width: 600px;
      }
      .size-select {
        padding: 0.5rem;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        background-color: #f8f6f4;
        width: fit-content;
      }
      .add-to-cart-btn {
        width: fit-content;
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="site-header">
      <div class="container nav-container">
        <a class="logo" href="index.html">UNKWN LABS</a>
        <nav class="main-nav">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
            <li>
              <a href="cart.html" class="cart-link">
                Cart
                <span id="cart-count" class="cart-count">0</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Product detail section -->
    <section class="container product-detail-section">
      <div id="product-detail" class="product-detail">
        <img
          src=""
          alt="Product image"
          class="product-detail-image"
        />
        <div class="product-detail-info">
          <h1 class="product-detail-name"></h1>
          <p class="product-detail-description"></p>
          <label for="size-select">Select Size:</label>
          <select id="size-select" class="size-select"></select>
          <button class="btn btn-primary add-to-cart-btn">Add to Cart</button>
        <!-- Button to open room view overlay -->
        <button id="view-room-btn" class="btn btn-secondary" style="margin-top: 0.5rem;">View in Room</button>
        </div>
      </div>
    </section>

    <!-- Room view overlay (initially hidden) -->
    <div id="room-view-overlay" class="room-overlay" style="display: none;">
      <div class="room-container">
        <!-- Close button -->
        <button id="close-room-view" class="room-close" aria-label="Close room view">×</button>
        <!-- Instruction text -->
        <div class="room-instructions">Drag the print to position it on the wall</div>
        <!-- Background room image -->
        <img src="assets/images/room.png" alt="Room background" class="room-background" />
        <!-- Print preview image that will be made draggable -->
        <img src="" alt="Print preview" id="room-print" class="room-print" />
      </div>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="container footer-grid">
        <div class="footer-column">
          <h4>UNKWN LABS</h4>
          <p>
            Fine art prints crafted with care in Fort Lauderdale, Florida.
            Follow our journey and let your walls come alive.
          </p>
        </div>
        <div class="footer-column">
          <h4>Navigation</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4>Get in Touch</h4>
          <p>Email: info@unkwnlabs.com</p>
          <p>Phone: +1&nbsp;(954)&nbsp;555‑0123</p>
        </div>
      </div>
      <div class="footer-bottom">
        ©2025 UNKWN LABS. All rights reserved.
          <span class="footer-social">
            <a href="https://www.instagram.com/unkwnphoto" target="_blank" aria-label="Instagram" style="display:inline-block; line-height:1;">
              <!-- Inline SVG for the Instagram icon to avoid loading external icon fonts -->
              <svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 448 512" fill="#eeeeee">
                <path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9 114.9-51.3 114.9-114.9S287.7 141 224.1 141zm0 188.6c-40.7 0-73.8-33.1-73.8-73.8s33.1-73.8 73.8-73.8 73.8 33.1 73.8 73.8-33.1 73.8-73.8 73.8zm146.4-194.3c0 14.9-12.1 27-27 27-14.9 0-27-12.1-27-27 0-14.9 12.1-27 27-27 14.9 0 27 12.1 27 27zm76.1 27.2c-1.7-35.7-9.9-67.4-36.1-92.7S389 47.7 353.3 46c-35.8-1.7-142.9-1.7-178.7 0-35.7 1.7-67.4 9.9-92.7 36.1S47.7 123 46 158.7c-1.7 35.8-1.7 142.9 0 178.7 1.7 35.7 9.9 67.4 36.1 92.7s57 34.4 92.7 36.1c35.8 1.7 142.9 1.7 178.7 0 35.7-1.7 67.4-9.9 92.7-36.1 26.2-26.2 34.4-57 36.1-92.7 1.7-35.8 1.7-142.9 0-178.7z"/>
              </svg>
            </a>
          </span>
      </div>
    </footer>

    <script src="products.js"></script>
    <script src="scripts.js"></script>

    <!-- Room view functionality script -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const viewBtn = document.getElementById('view-room-btn');
        const overlay = document.getElementById('room-view-overlay');
        const roomPrint = document.getElementById('room-print');
        const closeBtn = document.getElementById('close-room-view');
        const productImage = document.querySelector('.product-detail-image');
        if (viewBtn && overlay && roomPrint && closeBtn && productImage) {
          viewBtn.addEventListener('click', () => {
            // Set the print image source to the displayed product image
            roomPrint.src = productImage.src;
            // Reset the position to center
            roomPrint.style.top = '50%';
            roomPrint.style.left = '50%';
            overlay.style.display = 'flex';
          });
          closeBtn.addEventListener('click', () => {
            overlay.style.display = 'none';
          });
          // Dragging logic
          let dragging = false;
          let offsetX = 0;
          let offsetY = 0;
          roomPrint.addEventListener('mousedown', (e) => {
            dragging = true;
            const rect = roomPrint.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
          });
          document.addEventListener('mousemove', (e) => {
            if (!dragging) return;
            const containerRect = overlay
              .querySelector('.room-container')
              .getBoundingClientRect();
            // calculate new position relative to container
            let left = e.clientX - containerRect.left - offsetX;
            let top = e.clientY - containerRect.top - offsetY;
            // clamp within container bounds to keep print fully visible
            const maxLeft = containerRect.width - roomPrint.offsetWidth;
            const maxTop = containerRect.height - roomPrint.offsetHeight;
            if (left < 0) left = 0;
            if (top < 0) top = 0;
            if (left > maxLeft) left = maxLeft;
            if (top > maxTop) top = maxTop;
            roomPrint.style.left = left + 'px';
            roomPrint.style.top = top + 'px';
          });
          document.addEventListener('mouseup', () => {
            dragging = false;
          });
        }
      });
    </script>
  </body>
</html>